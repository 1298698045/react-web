(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[169],{Wzka:function(e,t,a){"use strict";a.r(t);a("y8nQ");var n=a("Vl3Y"),c=(a("IzEo"),a("bx4M")),i=a("jehZ"),r=a.n(i),o=a("eHn4"),l=a.n(o),d=(a("+L6B"),a("2/Rp")),u=(a("miYZ"),a("tsqr")),s=(a("BoS7"),a("Sdc0")),E=a("p0pE"),m=a.n(E),D=a("qIgq"),f=a.n(D),A=a("q1tI"),p=a.n(A),b=a("6y2Z"),v=a("MuoO"),V=a("myFP"),_=a("9vKQ"),y=a("mGJS"),g=a("zHco"),U=a("03Mi"),L=a("uY7g"),O=(a("2qtc"),a("kLXV")),T=(a("14J3"),a("BMrR")),h=(a("jCWc"),a("kPKH")),S=a("Djev"),k=function(e){var t=e.handleSubmit,a=e.visible,c=e.setVisible,i=e.form,o=e.data,l=e.loading,d=e.afterClose,u=Object(S["a"])(o),s=function(e){e.preventDefault(),i.validateFields(function(e,a){if(e)return!1;t(m()({},a,{id:o.id}))})};return p.a.createElement(O["a"],{title:o.id?"\u7f16\u8f91\u589e\u503c\u670d\u52a1":"\u65b0\u589e\u589e\u503c\u670d\u52a1",visible:a,afterClose:d,onOk:s,destroyOnClose:!0,confirmLoading:l,onCancel:function(){return c(!1)},closable:!0,maskClosable:!1,keyboard:!1},p.a.createElement(n["a"],{onSubmit:s},p.a.createElement(T["a"],{gutter:{xs:8,sm:16,md:20}},p.a.createElement(h["a"],{md:12,sm:24},p.a.createElement(y["a"],r()({config:_["a"].VALUE_ADDED.TITLE,initialValue:u(_["a"].VALUE_ADDED.TITLE),rules:[{required:!0}]},e))),p.a.createElement(h["a"],{md:12,sm:24},p.a.createElement(y["a"],r()({config:_["a"].VALUE_ADDED.AMOUNT,min:0,formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},initialValue:u(_["a"].VALUE_ADDED.AMOUNT),rules:[{required:!0}]},e))),p.a.createElement(h["a"],{sm:24},p.a.createElement(y["a"],r()({config:_["a"].VALUE_ADDED.DESCRIPTION,initialValue:u(_["a"].VALUE_ADDED.DESCRIPTION),rules:[]},e))))))},C=n["a"].create()(k),I="valueAddedList",M=[_["a"].VALUE_ADDED.STATUS,_["a"].VALUE_ADDED.KEYWORD],j=function(e){var t=e.form,a=e.dispatch,n=e.loading,i=Object(b["a"])(!1),o=f()(i,2),E=o[0],D=o[1],v=Object(A["useState"])({}),O=f()(v,2),T=O[0],h=O[1],S=Object(b["a"])(!1),k=f()(S,2),j=k[0],w=k[1],N=n.effects["".concat(I,"/switchValueAdded")]||!1,R=n.effects["".concat(I,"/saveValueAdded")]||!1,q=function(e){var t=e.id,n=e.status;a({type:"".concat(I,"/switchValueAdded"),payload:{id:t,status:"1"===String(n)?"0":"1"}}).then(function(){Object(U["e"])(a,"value_added"),a({type:"".concat(I,"/refresh")})})},P=function(e){a({type:"".concat(I,"/saveValueAdded"),payload:m()({},e)}).then(function(e){!1!==e&&(Object(U["e"])(a,"value_added"),D(!1))})},x=[{title:"\u5e8f\u53f7",key:"key"},_["a"].VALUE_ADDED.TITLE,_["a"].VALUE_ADDED.DESCRIPTION,m()({},_["a"].VALUE_ADDED.AMOUNT,{title:"".concat(_["a"].VALUE_ADDED.AMOUNT.title,"\uff08\u5143\uff09")}),_["a"].VALUE_ADDED.CREATE_TIME,m()({},_["a"].VALUE_ADDED.STATUS,{customRender:function(e,t){var a="1"===String(e);return p.a.createElement(L["a"],{privs:["valueadded_service_swtich"],noMatch:1===e?"\u542f\u7528":"\u5173\u95ed"},p.a.createElement(s["a"],{checked:a,loading:N,onChange:function(){return q(t)}}))}}),{title:"\u64cd\u4f5c",key:"actions",customRender:function(e,t){return p.a.createElement(L["a"],{privs:["valueadded_service_edit"],noMatch:"\u7f16\u8f91"},p.a.createElement("a",{key:"edit",onClick:function(){if(1===t.using||1===t.status)return u["a"].info("\u53ea\u6709\u505c\u7528\u72b6\u6001\u4e14\u672a\u88ab\u5360\u7528\u7684\u589e\u503c\u670d\u52a1\u624d\u53ef\u4ee5\u7f16\u8f91\u4fee\u6539"),!1;h(t),D(!0)}},"\u7f16\u8f91"))}}],B=[p.a.createElement(L["a"],{privs:["valueadded_service_add"],key:"valueadded_service_add",noMatch:"\u65b0\u589e"},p.a.createElement(d["a"],{key:"plus-button",icon:"plus",htmlType:"button",type:"primary",onClick:function(){h({}),D(!0)}},"\u65b0\u589e"))],J=Object(A["useMemo"])(function(){return M.map(function(e){return p.a.createElement(y["a"],{config:e,form:t})})},[t]),Y=l()({},I,e[I]);return p.a.createElement(g["a"],{title:"\u589e\u503c\u670d\u52a1\u7ba1\u7406"},p.a.createElement(c["a"],null,p.a.createElement(V["a"],r()({},Y,{form:t,dispatch:a,loading:n,needUpdate:j,setNeedUpdate:w,bodyStyle:{padding:0},tableName:I,tableActions:B,originColumns:x,columnSortable:!1,scroll:{x:"max-content"},formFields:J})),p.a.createElement(C,{afterClose:function(){a({type:"".concat(I,"/refresh")})},handleSubmit:function(e){return P(e)},loading:R,data:T,visible:E,setVisible:D})))};t["default"]=Object(v["connect"])(function(e){var t,a=e[I],n=e.loading,c=e.dictionary;return t={},l()(t,I,a),l()(t,"loading",n),l()(t,"dictionary",c),t})(n["a"].create()(Object(A["memo"])(j)))}}]);