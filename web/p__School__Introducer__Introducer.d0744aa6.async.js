(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[87],{CqnA:function(e,t,n){"use strict";n.r(t);n("y8nQ");var a=n("Vl3Y"),o=n("eHn4"),r=n.n(o),c=n("jehZ"),i=n.n(c),l=(n("+L6B"),n("2/Rp")),u=(n("2qtc"),n("kLXV")),s=(n("/zsF"),n("PArb")),d=(n("Pwec"),n("CtXQ")),m=n("p0pE"),R=n.n(m),E=n("qIgq"),O=n.n(E),f=n("q1tI"),_=n.n(f),p=n("MuoO"),C=n("zHco"),k=n("Y2fQ"),b=n("v99g"),y=n("myFP"),I=n("mGJS"),D=n("9vKQ"),v=(n("14J3"),n("BMrR")),N=(n("jCWc"),n("kPKH")),T=n("Djev"),g=function(e){var t=e.selectedRow,n=e.onSubmit,o=e.visible,c=e.setVisible,l=e.form,s=e.loading,d=Object(T["a"])(t),m=function(e){e.preventDefault(),l.validateFields(function(e,a){if(e)return!1;n(R()({},a,r()({status:"1"},D["a"].ORG.COLLA_ID.key,t[D["a"].ORG.COLLA_ID.key])))})},E=function(e){e.preventDefault(),c(!1)};return _.a.createElement(u["a"],{destroyOnClose:!0,title:(t[D["a"].ORG.COLLA_ID.key]?"\u4fee\u6539":"\u65b0\u589e")+"\u6821\u5916\u4ecb\u7ecd\u4eba",width:700,visible:o,onOk:m,onCancel:E,closable:!0,maskClosable:!1,keyboard:!1,confirmLoading:s,okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},_.a.createElement(a["a"],{onSubmit:m},_.a.createElement(v["a"],{gutter:24},[D["a"].ORG.INTRODUCER_NAME,D["a"].ORG.INTRODUCER_SEX,D["a"].ORG.INTRODUCER_MOBILE,D["a"].ORG.INTRODUCER_ADDRESS,D["a"].ORG.INTRODUCER_MEMO].map(function(t){return _.a.createElement(N["a"],{xs:24,md:12,key:t.key},_.a.createElement(I["a"],i()({},e,{config:t,form:l,initialValue:t.value||d(t),rules:[{required:t.required,message:"\u8be5\u9879\u4e3a\u5fc5\u586b"}],style:{marginBottom:0}})))}))))},h=a["a"].create()(g),G=(n("BNjr"),n("03Mi")),M=n("uY7g"),S="introducer",U=function(e){var t=e.dispatch,n=e.form,a=e.loading,o=Object(f["useState"])(!1),r=O()(o,2),c=r[0],m=r[1],E=Object(f["useState"])({}),p=O()(E,2),v=p[0],N=p[1],T=Object(f["useState"])(!1),g=O()(T,2),U=g[0],A=g[1],j=function(e){return t({type:"".concat(S,"/saveIntroducer"),params:e}).then(function(){A(!0),Object(G["e"])(t,"introducer_id")})},L=function(e){return t({type:"".concat(S,"/delIntroducer"),params:{id:e}}).then(function(){A(!0),Object(G["e"])(t,"introducer_id")})},w=[{title:"\u5e8f\u53f7",key:"key"},R()({},D["a"].ORG.INTRODUCER_NAME,{customRender:function(e,t,n){return _.a.createElement(M["a"],{privs:["cooperationunit_edit"],noMatch:e},_.a.createElement("a",{onClick:function(e){N(R()({},t)),m(!0)}},e||"-"))}}),D["a"].ORG.INTRODUCER_SEX,D["a"].ORG.INTRODUCER_MOBILE,D["a"].ORG.INTRODUCER_ADDRESS,D["a"].ORG.INTRODUCER_MEMO,D["a"].ORG.INTRODUCER_CONTACT_NAME,{key:"operation",title:"\u64cd\u4f5c",customRender:function(e,t,n){return[_.a.createElement(M["a"],{privs:["edit_outside_school_introducer"],key:"edit_outside_school_introducer"},[_.a.createElement("a",{key:"delete",onClick:function(e){N(R()({},t)),m(!0)}},_.a.createElement(d["a"],{type:"edit"})," \u7f16\u8f91"),_.a.createElement(s["a"],{key:"divider0",type:"vertical"})]),_.a.createElement(M["a"],{privs:["delete_outside_school_introducer"],key:"delete_outside_school_introducer"},[_.a.createElement("a",{key:"delete",onClick:function(){return u["a"].confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u6821\u5916\u4ecb\u7ecd\u4eba\u3010"+t[D["a"].ORG.INTRODUCER_NAME.key]+"\u3011\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){return L(t.id)}})}},_.a.createElement(d["a"],{type:"delete"})," \u5220\u9664")])]}}],q=[{config:D["a"].ORG.INTRODUCER_QUICK_SEARCH}],x=[_.a.createElement(M["a"],{privs:["add_outside_school_introducer"],key:"add_outside_school_introducer"},_.a.createElement(l["a"],{key:"input",icon:"plus-circle",htmlType:"button",type:"primary",onClick:function(){N({}),m(!0)}},"\u65b0\u589e\u6821\u5916\u4ecb\u7ecd\u4eba"))],B=Object(f["useMemo"])(function(){return q.map(function(e){return _.a.createElement(I["a"],i()({},e,{form:n}))})},[n]);return _.a.createElement(C["a"],{title:_.a.createElement(k["FormattedMessage"],{id:"menu.school.introducer"})},_.a.createElement(b["a"],null,_.a.createElement(y["a"],i()({},e,{tableName:S,originColumns:w,formFields:B,tableActions:x,columnSortable:!1,scroll:{x:"max-content"},needUpdate:U,tableSearchParams:{status:"1"},setNeedUpdate:A}))),_.a.createElement(h,{selectedRow:v,visible:c,setVisible:m,loading:a.effects["".concat(S,"/saveIntrducer")],onSubmit:function(e){console.log(e),j(e).then(function(){m(!1)})}}))};t["default"]=Object(p["connect"])(function(e){var t,n=e[S],a=e.loading,o=e.global;return t={},r()(t,S,n),r()(t,"loading",a),r()(t,"global",o),t})(a["a"].create()(U))}}]);