(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[84],{"0zce":function(e,t,a){"use strict";a.r(t);a("y8nQ");var n=a("Vl3Y"),c=a("eHn4"),i=a.n(c),r=a("jehZ"),o=a.n(r),O=(a("+L6B"),a("2/Rp")),l=(a("Pwec"),a("CtXQ")),E=(a("2qtc"),a("kLXV")),u=(a("BoS7"),a("Sdc0")),d=a("p0pE"),s=a.n(d),I=a("qIgq"),m=a.n(I),y=a("q1tI"),p=a.n(y),h=a("MuoO"),v=a("zHco"),k=a("Y2fQ"),P=a("v99g"),f=a("myFP"),_=(a("mGJS"),a("9vKQ")),b=a("pEHo"),S=a("03Mi"),L=a("uY7g"),R="orgArchivist",T=function(e){var t=e.dispatch,a=(e.form,e.loading,e.dictionary),n=Object(y["useState"])(!1),c=m()(n,2),r=c[0],d=c[1],I=Object(y["useState"])(!1),h=m()(I,2),T=h[0],N=h[1],M=function(e){return t({type:"".concat(R,"/addArchivist"),params:{employeeId:e[_["a"].EMPLOYEE.ID.key]}}).then(function(){N(!0),Object(S["e"])(t,"archivist_id")})},G=function(e){return t({type:"".concat(R,"/deleteArchivist"),params:{employeeId:e[_["a"].EMPLOYEE.ID.key]}}).then(function(){N(!0),Object(S["e"])(t,"archivist_id")})},Y=function(e,a){return t({type:"".concat(R,"/").concat(a?"set":"cancel","DefaultArchivist"),params:{employeeId:e[_["a"].EMPLOYEE.ID.key]}}).then(function(){N(!0),Object(S["e"])(t,"archivist_id")})},g=[{key:"key",title:"\u5e8f\u53f7"},_["a"].EMPLOYEE.NAME,_["a"].EMPLOYEE.GENDER,_["a"].EMPLOYEE.MOBILE,_["a"].ORG.POSITION_ID,s()({},_["a"].ORG.POSITION_LEVEL,{customRender:function(e,t,n){var c=Object(S["a"])(a,_["a"].ORG.POSITION_ID.dictionary,t[_["a"].ORG.POSITION_ID.key])||{};return Object(S["c"])(a,_["a"].ORG.POSITION_LEVEL.dictionary,c[_["a"].ORG.POSITION_LEVEL.key])}}),s()({},_["a"].ORG.POSITION_TYPE,{customRender:function(e,t,n){var c=Object(S["a"])(a,_["a"].ORG.POSITION_ID.dictionary,t[_["a"].ORG.POSITION_ID.key])||{};return Object(S["c"])(a,_["a"].ORG.POSITION_TYPE.dictionary,c[_["a"].ORG.POSITION_TYPE.key])}}),s()({},_["a"].ORG.ARCHIVIST.DEFAULT,{customRender:function(e,t){return p.a.createElement(L["a"],{privs:["archivist_receiver_swtich"],noMatch:2==e?"\u5426":"\u662f"},p.a.createElement(u["a"],{checkedChildren:"\u662f",unCheckedChildren:"\u5426",checked:2==e,onChange:function(e){return Y(t,e)}}))}}),{key:"operation",title:"\u64cd\u4f5c",customRender:function(e,t,a){return p.a.createElement(L["a"],{privs:["archivist_receiver_detele"],noMatch:"\u5220\u9664"},p.a.createElement("a",{key:"delete",onClick:function(){return E["a"].confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u5efa\u6863\u53d7\u7406\u4eba\u3010"+t[_["a"].EMPLOYEE.NAME.key]+"\u3011\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){return G(t)}})}},p.a.createElement(l["a"],{type:"delete"})," \u5220\u9664"))}}],j=[p.a.createElement(L["a"],{privs:["archivist_receiver_add"],key:"archivist_receiver_add"},p.a.createElement(O["a"],{key:"input",icon:"plus-circle",htmlType:"button",type:"primary",onClick:function(){d(!0)}},"\u6dfb\u52a0\u5efa\u6863\u53d7\u7406\u4eba"))];return p.a.createElement(v["a"],{title:p.a.createElement(k["FormattedMessage"],{id:"menu.school.archivist"})},p.a.createElement(P["a"],null,p.a.createElement(f["a"],o()({},e,{tableName:R,originColumns:g,tableActions:j,columnSortable:!1,pagination:!1,needUpdate:T,setNeedUpdate:N}))),p.a.createElement(b["a"],{visible:r,setVisible:d,tableSearchParams:i()({},_["a"].EMPLOYEE.LEAVING.key,0),onSelect:function(e){M(e)}}))};t["default"]=Object(h["connect"])(function(e){var t,a=e[R],n=e.dictionary,c=e.loading,r=e.global;return t={},i()(t,R,a),i()(t,"dictionary",n),i()(t,"loading",c),i()(t,"global",r),t})(n["a"].create()(T))}}]);